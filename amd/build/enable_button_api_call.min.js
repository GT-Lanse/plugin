define(["jquery","core/ajax","core/notification","core/str"],function(s,o,l,r){return{init:(a,d)=>{s("#enable-settings").click(e=>{e.preventDefault();e={},e.courseId=a,e={methodname:"block_mad2api_enable_course",args:e},e=o.call([e])[0];e.fail(l.exception),e.done(e=>{e=e[0];e.error?r.get_strings([{key:"error_modal_title",component:"block_mad2api"},{key:"error_modal_body",component:"block_mad2api"},{key:"error_alert_body",component:"block_mad2api"}]).done(function(a){2016120500<d?require(["core/modal_factory"],e=>{e.create({title:a[0],body:a[1]}).then(e=>{e.show()})}):alert(a[2])}):e.enabled&&(s("#disable-settings").removeClass("disabled"),s("#enable-settings").addClass("disabled"),s("#access-dashboard").attr("href",e.url),s("#access-dashboard").removeClass("disabled"))})}),s("#disable-settings").click(e=>{e.preventDefault();e={},e.courseId=a,e={methodname:"block_mad2api_disable_course",args:e},e=o.call([e])[0];e.fail(l.exception),e.done(e=>{e[0].disabled&&(s("#enable-settings").removeClass("disabled"),s("#disable-settings").addClass("disabled"),s("#access-dashboard").addClass("disabled"))})}),s("#load-data").click(e=>{e.preventDefault();e={},e.courseId=a,e={methodname:"block_mad2api_load_course",args:e},e=o.call([e])[0];e.fail(l.exception),e.done(()=>{})})}}});