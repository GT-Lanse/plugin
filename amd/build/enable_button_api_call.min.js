define(["jquery","core/ajax","core/notification","core/str"],function(d,o,l,r){return{init:(a,s)=>{d("#enable-settings").click(e=>{e.preventDefault();e={},e.courseId=a,e={methodname:"block_mad2api_enable_course",args:e},e=o.call([e])[0];e.fail(l.exception),e.done(e=>{e=e[0];e.error?r.get_strings([{key:"error_modal_title",component:"block_mad2api"},{key:"error_modal_body",component:"block_mad2api"},{key:"error_alert_body",component:"block_mad2api"}]).done(function(a){2016120500<s?require(["core/modal_factory"],e=>{e.create({title:a[0],body:a[1]}).then(e=>{e.show()})}):alert(a[2])}):e.enabled&&(d("#disable-settings").removeClass("disabled"),d("#enable-settings").addClass("disabled"),d("#access-dashboard").attr("href",e.url),d("#access-dashboard").removeClass("disabled"))})}),d("#disable-settings").click(e=>{e.preventDefault();e={},e.courseId=a,e={methodname:"block_mad2api_disable_course",args:e},e=o.call([e])[0];e.fail(l.exception),e.done(e=>{e[0].disabled&&(d("#enable-settings").removeClass("disabled"),d("#disable-settings").addClass("disabled"),d("#access-dashboard").addClass("disabled"))})})}}});